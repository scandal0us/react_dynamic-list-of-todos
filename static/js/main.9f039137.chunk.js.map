{"version":3,"sources":["api/data.js","components/User.js","components/TodoItem.js","components/TodoList.js","App.js","index.js"],"names":["API_URL","getTodos","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","response","todos","wrap","_context","prev","next","fetch","concat","sent","json","abrupt","stop","apply","this","arguments","getUsers","_ref2","_callee2","users","_context2","User","todo","react_default","createElement","user","name","TodoItem","id","completed","title","components_User","key","TodoList","className","map","components_TodoItem","getData","objectSpread","find","userId","getSortedTodos","sortField","toConsumableArray","sort","b","localeCompare","App","state","visibleTodos","isLoaded","isButtonDisabled","loadData","_this","setState","sortBy","sortedTodos","prevState","reverseSort","reverse","_this2","_this$state","length","type","onClick","components_TodoList","disabled","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.9f039137.chunk.js","sourcesContent":["const API_URL = 'https://jsonplaceholder.typicode.com';\n\nexport const getTodos = async() => {\n  // return todos;\n  const response = await fetch(`${API_URL}/todos`);\n  const todos = await response.json();\n\n  return todos;\n};\n\nexport const getUsers = async() => {\n  // return users;\n  const response = await fetch(`${API_URL}/users`);\n  const users = await response.json();\n\n  return users;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst User = ({ todo }) => (\n  <td>{todo.user.name}</td>\n);\n\nUser.propTypes = {\n  todo: PropTypes.shape({\n    user: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n    }).isRequired,\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from './User';\n\nconst TodoItem = ({ todo }) => (\n  <tr>\n    <td>{todo.id}</td>\n    <td>{todo.completed ? '+' : '-' }</td>\n    <td>{todo.title}</td>\n    <User todo={todo} key={todo.id} />\n  </tr>\n);\n\nTodoItem.propTypes = {\n  todo: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    completed: PropTypes.bool.isRequired,\n    title: PropTypes.string.isRequired,\n    user: PropTypes.shape({\n      name: PropTypes.string.isRequired,\n    }).isRequired,\n  }).isRequired,\n};\n\nexport default TodoItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TodoItem from './TodoItem';\n\nconst TodoList = ({ todos }) => (\n  <table className=\"center\">\n    <thead>\n      <tr>\n        <th>ID</th>\n        <th>Status</th>\n        <th>Title</th>\n        <th>User</th>\n      </tr>\n    </thead>\n    <tbody>\n      {(todos).map(todo => (\n        <TodoItem todo={todo} key={todo.id} />\n      ))}\n    </tbody>\n  </table>\n);\n\nTodoList.propTypes = {\n  todos: PropTypes.array.isRequired,\n};\n\nexport default TodoList;\n","import React from 'react';\nimport './App.css';\n\nimport { getTodos, getUsers } from './api/data';\nimport TodoList from './components/TodoList';\n\nconst getData = async() => {\n  const todos = await getTodos();\n  const users = await getUsers();\n\n  return todos.map(todo => {\n    return {\n      ...todo,\n      user: users.find(user => user.id === todo.userId),\n    };\n  });\n};\n\nconst getSortedTodos = (todos, sortField) => {\n  const sortCallbacks = {\n    id: (a, b) => a.id - b.id,\n    completed: (a, b) => a.completed - b.completed,\n    title: (a, b) => a.title.localeCompare(b.title),\n    user: (a, b) => a.user.name.localeCompare(b.user.name),\n  };\n\n  return [...todos].sort(sortCallbacks[sortField]);\n};\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    visibleTodos: [],\n    isLoaded: false,\n    isButtonDisabled: false,\n    sortField: 'id',\n  };\n\n  loadData = async() => {\n    this.setState({\n      isButtonDisabled: true,\n    });\n\n    const todos = await getData();\n\n    this.setState({\n      isLoaded: true,\n      todos,\n      visibleTodos: getSortedTodos(todos, 'id'),\n    });\n  };\n\n  sortBy = (sortField) => {\n    const sortedTodos = getSortedTodos(this.state.todos, sortField);\n    sortField !== this.state.sortField\n      ? this.setState(prevState => ({\n        visibleTodos: sortedTodos,\n        sortField,\n      }))\n      : this.reverseSort();\n  };\n\n  reverseSort = () => {\n    this.setState(prevState => ({\n      visibleTodos: getSortedTodos(prevState.visibleTodos).reverse(),\n    }));\n  };\n\n  render() {\n    const { visibleTodos, isLoaded } = this.state;\n    return (\n      <main>\n        <div className=\"center\">\n          <h1>List of Todos</h1>\n          {isLoaded ? (\n            <div>\n              <h2>\n                (\n                {visibleTodos.length}\n                 items)\n              </h2>\n              <button type=\"submit\" onClick={() => this.sortBy('id')}>\n                Sort by ID\n              </button>\n\n              <button type=\"submit\" onClick={() => this.sortBy('completed')}>\n                Sort by status\n              </button>\n\n              <button type=\"submit\" onClick={() => this.sortBy('title')}>\n                Sort by Title\n              </button>\n\n              <button type=\"submit\" onClick={() => this.sortBy('user')}>\n                Sort by User\n              </button>\n\n              <TodoList todos={visibleTodos} />\n            </div>\n          ) : (\n            <div>\n              <h2>({visibleTodos.length} items)</h2>\n              <button\n                type=\"submit\"\n                onClick={this.loadData}\n                disabled={this.state.isButtonDisabled}\n              >\n                Load\n              </button>\n            </div>\n          )}\n        </div>\n      </main>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}